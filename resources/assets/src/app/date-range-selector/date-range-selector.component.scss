@import '../../variables';
@import "~bootstrap-sass/assets/stylesheets/bootstrap";

:host {
  display: flex;
  flex-flow: row wrap;
  position: relative;
  align-items: center;

  & ::ng-deep > * {
    margin-right: 1em;
    margin-bottom: 1em;
  }
}

.input-group {
  position: relative;
  width: 100%;

  @media (min-width: $screen-sm-min) {
      width: unset;
  }
}

.form-control {
  @media (min-width: $screen-sm-min) {
    max-width: 150px;

    .form-inline.week &,
    .form-inline.range & {
      max-width: unset;
      min-width: 240px;
    }
  }
}

.buttons {
  display: flex;
  flex-flow: row wrap;
  justify-content: space-between;
  width: 100%;

  @media (min-width: $screen-sm-min) {
    display: block;
    width: unset;
  }
}

.button {
  @extend .btn, .btn-default;
  flex: 1;
}
$date-picker-border-color: #ddd;

.popup {
    position: absolute;
    top: 100%;
    left: 0;
    width: 284px;

    @media (min-width: $screen-sm-min) {
        width: 544px;
    }

    background: #fff;
    border: 1px solid $date-picker-border-color;
    padding: 1em;
    z-index: 10;

    &__buttons {
        margin-bottom: 1em;
        text-align: right;
        position: relative;
    }

    &__today {
      position: absolute;
      bottom: -3.5em;
      right: 5em;
      height: 2em;
      line-height: 1;
      text-align: center;
      vertical-align: middle;
      z-index: 1;
    }
    
    dp-day-calendar {
      vertical-align: top;
    }

    &[data-hidden="true"] {
        display: none;
    }
}

/* Apply bootstrap styles to a datepicker */
:host ::ng-deep {
  $date-picker-border-color: #ddd;

  .dp-picker-input {
      display: none;
  }

  .dp-calendar-nav-container,
  .dp-calendar-wrapper {
      border-color: $date-picker-border-color !important;
  }

  .dp-weekdays {
      display: flex;
      flex-flow: row nowrap;
      justify-content: space-around;

      border-bottom: 1px solid $date-picker-border-color !important;
  }

  .dp-calendar-weekday {
      border: 0 !important;
  }

  .dp-calendar-nav-container {
      height: 40px !important;

      button {
          @extend .btn;
          @extend .btn-default;

          padding: 3px;

          &[data-hidden="true"] {
              display: none;
          }
      }
  }

  .dp-calendar-day,
  .dp-calendar-month {
      @extend .btn;
      @extend .btn-default;

      &.dp-current-day {
          @extend .btn-info;
      }

      &.dp-selected,
      &.dp-current-day.dp-selected {
          @extend .btn-primary;
      }

      padding: 0;
      margin: 3px;
  }

  .week .dp-calendar-week {
      /* Show all days in a week as active */
      &:hover button.dp-calendar-day  {
          @extend .active;
      }

      /* Show all days in a week as selected */
      .dp-selected ~ button.dp-calendar-day  {
          @extend .btn-primary;
      }
  }
}
