<div [class]="isOnTeamTab ? 'container-fluid' : 'container'">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="manager-panel" *ngIf="userIsManager">
                        <div class="header-buttons btn-group" role="group" *ngIf="isOnTeamTab">
                            <button type="button" (click)="statistic.exportCSV()" class="btn btn-default" translate>control.export-csv</button>
                        </div>

                        <tabset #tabs>
                            <tab #tabOwn heading="{{'control.own' | translate }}" (select)="changeTab($event)">
                                <app-statistic-time #userStatistic class="user-statistic"
                                    [users]="user" [height]="80">
                                </app-statistic-time>

                                <dashboard-tasklist #taskList>
                                </dashboard-tasklist>

                                <dashboard-screenshotlist #screenshotList
                                    (onSelectionChanged)="changeSelection($event)">
                                </dashboard-screenshotlist>

                                <change-task-panel
                                    *ngIf="selectedIntervals.length || taskFilter"
                                    [timeIntervals]="selectedIntervals"
                                    (onFilterChanged)="filter($event)"
                                    (onIntervalsDeleted)="reload()"
                                    (onIntervalsChanged)="reload()">
                                </change-task-panel>
                            </tab>

                            <tab #tabTeam heading="{{'control.team' | translate }}" (select)="changeTab($event)">
                                <app-statistic-time #statistic [users]="selectedUsers"
                                    (onSelectionChanged)="changeSelection($event)">
                                    <app-user-selector class="statistics-users" #userSelect
                                        [filter]="userFilter" (changed)="selectedUsers = $event">
                                    </app-user-selector>
                                </app-statistic-time>

                                <change-task-panel
                                    *ngIf="(selectedIntervals.length || taskFilter)
                                        && canManageIntervals"
                                    [timeIntervals]="selectedIntervals"
                                    (onFilterChanged)="filter($event)"
                                    (onIntervalsDeleted)="reload()"
                                    (onIntervalsChanged)="reload()">
                                </change-task-panel>
                            </tab>
                        </tabset>
                    </div>

                    <div class="user-panel" *ngIf="!userIsManager">
                        <app-statistic-time #userStatistic class="user-statistic"
                            [users]="user" [height]="80">
                        </app-statistic-time>

                        <dashboard-tasklist #taskList>
                        </dashboard-tasklist>

                        <dashboard-screenshotlist #screenshotList
                            (onSelectionChanged)="changeSelection($event)">
                        </dashboard-screenshotlist>

                        <change-task-panel
                            *ngIf="selectedIntervals.length || taskFilter"
                            [timeIntervals]="selectedIntervals"
                            (onFilterChanged)="filter($event)"
                            (onIntervalsDeleted)="reload()"
                            (onIntervalsChanged)="reload()">
                        </change-task-panel>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
